<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –º–∞—à–∏–Ω–æ–º–µ—Å—Ç</title>
    <style>
        body { font-family: monospace; margin: 20px; background: #f5f5f5; }
        h1 { color: #333; }
        .test-case { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #10adff; }
        .test-case h2 { margin-top: 0; color: #10adff; font-size: 1.1rem; }
        .input { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 4px; }
        .output { background: #e8f5e9; padding: 10px; margin: 10px 0; border-radius: 4px; color: #2e7d32; font-weight: bold; }
        .error { background: #ffebee; padding: 10px; margin: 10px 0; border-radius: 4px; color: #c62828; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; background: white; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: right; }
        th { background: #f5f5f5; }
    </style>
</head>
<body>

<h1>üß™ –¢–µ—Å—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –º–∞—à–∏–Ω–æ–º–µ—Å—Ç</h1>
<p>–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</p>

<div id="output"></div>

<script src="parkingData.js" defer></script>
<script src="mainEngine.js" defer></script>

<script>
    async function runTests() {
        // –û–∂–∏–¥–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Å–∫—Ä–∏–ø—Ç–æ–≤
        await new Promise(resolve => setTimeout(resolve, 500));
        
        if (typeof ParkingCalculator === 'undefined') {
            document.getElementById('output').innerHTML += `<div class="error">‚ùå ParkingCalculator –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!</div>`;
            return;
        }
        
        const testCases = [
            {
                name: "–¢–µ—Å—Ç 1: –ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–π –¥–æ–º –°—Ç—Ä–æ–≥–∏–Ω–æ (–∏–∑ Excel, –°–Ω–∞—Ä—É–∂–∏ –¢–¢–ö)",
                input: {
                    areaFlats: 51539.3,      // –∫–≤.–º –∫–≤–∞—Ä—Ç–∏—Ä
                    areaNNP: 4048,           // –∫–≤.–º –Ω–µ–∂–∏–ª–æ–π –ø–ª–æ—â–∞–¥–∏
                    k1: 1.0,                 // K1 –æ—Ç –ø–µ—à–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
                    k2: 0.9,                 // K2 –¥–µ–ª–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                    rnsYear: 2026,           // 10% –≠–ú –≤ 2026 –≥–æ–¥—É
                    factualPlaces: 24        // —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞ –Ω–∞ –£–î–° –∏ —É—á–∞—Å—Ç–∫–µ
                },
                expected: {
                    Np: 402,
                    Ng: 41,
                    Nv: 41,
                    Nk_residential: 3,
                    Nk_commercial: 4,
                    N_total: 491,           // –í—Å–µ–≥–æ –ë–ï–ó –≤—ã—á–µ—Ç–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö
                    N_ev: 51,               // –ü2+–ì2+–í2 = 41+5+5 = 51 (–Ω–µ 10% –æ—Ç 491)
                    N_required: 467,        // 491 - 24 (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ)
                    N_ev_required: 47,      // ROUNDUP(467 √ó 10%) = 47
                    N_min: 411,             // (402-10%)+(41-10%)+(41-30%)+7-24
                    N_ev_min: 42,           // ROUNDUP(411 √ó 10%) = 42
                    N_max: 523,             // (402+10%)+(41+10%)+(41+30%)+7-24
                    N_ev_max: 53            // ROUNDUP(523 √ó 10%) = 53
                }
            },
            {
                name: "–¢–µ—Å—Ç 2: –ñ–∏–ª–æ–π –∫–æ–º–ø–ª–µ–∫—Å –í–Ω—É—Ç—Ä–∏ –¢–¢–ö (—Å —Ö–æ—Ä–æ—à–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é, –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç)",
                input: {
                    areaFlats: 35000,        // –∫–≤.–º –∫–≤–∞—Ä—Ç–∏—Ä (—Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
                    areaNNP: 2500,           // –∫–≤.–º –Ω–µ–∂–∏–ª–æ–π –ø–ª–æ—â–∞–¥–∏
                    k1: 1.0,                 // K1 –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –ú–ö–ê–î (—Ö–æ—Ä–æ—à–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
                    k2: 1.0,                 // K2 –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π (—Ü–µ–Ω—Ç—Ä)
                    rnsYear: 2026,           // 10% –≠–ú
                    factualPlaces: 0         // –ë–ï–ó —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç
                },
                expected: {
                    Np: 271,
                    Ng: 28,
                    Nv: 28,
                    Nk_residential: 2,
                    Nk_commercial: 4,       // ROUNDUP(2500/450)=6, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –¥–æ 4
                    N_required: 333,
                    N_ev_required: 34
                }
            },
            {
                name: "–¢–µ—Å—Ç 3: –ú–∞–ª–µ–Ω—å–∫–∏–π –æ–±—ä–µ–∫—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é",
                input: {
                    areaFlats: 5000,
                    areaNNP: 500,
                    k1: 0.8,                // K1 —Å–Ω–∏–∂–µ–Ω–Ω—ã–π
                    k2: 0.9,                // K2 —Å–Ω–∏–∂–µ–Ω–Ω—ã–π
                    rnsYear: 2025,
                    factualPlaces: 0
                }
            },
            {
                name: "–¢–µ—Å—Ç 4: –û–±—â–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (—à–∫–æ–ª–∞) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç",
                input: {
                    schoolArea: 1250        // –ø–ª–æ—â–∞–¥—å —à–∫–æ–ª—ã –≤ –∫–≤.–º
                },
                isOptionalTest: true,       // –§–ª–∞–≥ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
                optionalMethod: 'calculateSchoolStops',
                optionalMethodArg: 1250
            },
            {
                name: "–¢–µ—Å—Ç 5: –î–æ—à–∫–æ–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (–¥–µ—Ç—Å–∫–∏–π —Å–∞–¥) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç",
                input: {
                    preschoolArea: 425      // –ø–ª–æ—â–∞–¥—å –¥–µ—Ç—Å–∫–æ–≥–æ —Å–∞–¥–∞ –≤ –∫–≤.–º
                },
                isOptionalTest: true,       // –§–ª–∞–≥ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
                optionalMethod: 'calculatePreschoolStops',
                optionalMethodArg: 425
            },
            {
                name: "–¢–µ—Å—Ç 6: –°—Ç—Ä–æ–≥–∏–Ω–æ (–°—Ä–µ–¥–∞) - —Ç–∏–ø–∏—á–Ω—ã–π –∂–∏–ª–æ–π –∫–æ–º–ø–ª–µ–∫—Å",
                input: {
                    areaFlats: 13335,      // –∫–≤.–º –∂–∏–ª—å—è
                    areaNNP: 1800,          // –∫–≤.–º –Ω–µ–∂–∏–ª–æ–π –ø–ª–æ—â–∞–¥–∏
                    k1: 1.0,                // K1 –ø–æ–ª–Ω—ã–π (–≤–Ω—É—Ç—Ä–∏ –ú–ö–ê–î)
                    k2: 1.0,                // K2 –ø–æ–ª–Ω—ã–π
                    rnsYear: 2025,
                    factualPlaces: 0
                }
            },
            {
                name: "–¢–µ—Å—Ç 7: –ë–æ–ª—å—à–æ–π —Å–º–µ—à–∞–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å",
                input: {
                    areaFlats: 25000,
                    areaNNP: 5000,
                    k1: 1.0,
                    k2: 1.0,
                    rnsYear: 2026,         // 2026 –≥–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∏ –≠–ú 10%
                    factualPlaces: 100     // 100 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Å—Ç
                }
            }
        ];
        
        const outputDiv = document.getElementById('output');
        
        for (const test of testCases) {
            try {
                console.log(`\nüìã ${test.name}`);
                console.log("–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:", test.input);
                
                // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (—à–∫–æ–ª—ã, –¥–µ—Ç—Å–∞–¥—ã –∏ —Ç.–¥.)
                if (test.isOptionalTest) {
                    const calc = new ParkingCalculator(test.input);
                    const result = calc[test.optionalMethod](test.optionalMethodArg);
                    
                    let html = `<div class="test-case">
                        <h2>${test.name}</h2>
                        <div class="input">
                            <strong>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong><br>
                            ${test.optionalMethod === 'calculateSchoolStops' ? `–ü–ª–æ—â–∞–¥—å —à–∫–æ–ª—ã: ${test.optionalMethodArg} –∫–≤.–º` : `–ü–ª–æ—â–∞–¥—å –¥–µ—Ç—Å–∫–æ–≥–æ —Å–∞–¥–∞: ${test.optionalMethodArg} –∫–≤.–º`}
                        </div>
                        <div class="output">
                            <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong><br>
                            –ú–µ—Å—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: ${result} —à—Ç.
                        </div>
                    </div>`;
                    
                    outputDiv.innerHTML += html;
                    continue;
                }
                
                const calc = new ParkingCalculator(test.input);
                calc.calculate(test.input);
                
                const res = calc.results;
                
                let html = `<div class="test-case">
                    <h2>${test.name}</h2>
                    <div class="input">
                        <strong>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong><br>
                        –ñ–∏–ª–∞—è –ø–ª–æ—â–∞–¥—å: ${test.input.areaFlats} –∫–≤.–º | 
                        –ù–µ–∂–∏–ª–∞—è –ø–ª–æ—â–∞–¥—å: ${test.input.areaNNP} –∫–≤.–º | 
                        K1: ${test.input.k1} | K2: ${test.input.k2} | 
                        –ì–æ–¥ –†–ù–°: ${test.input.rnsYear}
                    </div>
                    
                    <strong>–†–∞—Å—á—ë—Ç—ã –ø–æ —Å—Ç–∞—Ç—å—è–º:</strong>
                    <table>
                        <tr>
                            <th>–°—Ç–∞—Ç—å—è</th>
                            <th>–í—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</th>
                            <th>–û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞</th>
                        </tr>
                        <tr>
                            <td><strong>N–ø</strong> (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ)</td>
                            <td>${res.Np}</td>
                            <td>(${test.input.areaFlats}/33) √ó 0.257 √ó ${test.input.k1}</td>
                        </tr>
                        <tr>
                            <td><strong>N–≥</strong> (–≥–æ—Å—Ç–µ–≤—ã–µ)</td>
                            <td>${res.Ng}</td>
                            <td>${res.Np} √ó 10%</td>
                        </tr>
                        <tr>
                            <td><strong>N–≤</strong> (–ø—Ä–∏–æ–±—ä–µ–∫—Ç–Ω—ã–µ)</td>
                            <td>${res.Nv}</td>
                            <td>(${test.input.areaNNP}/90) √ó ${test.input.k1} √ó ${test.input.k2}</td>
                        </tr>
                        <tr>
                            <td><strong>N–∫</strong> (–º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏)</td>
                            <td>${res.No_total}</td>
                            <td>ROUNDUP(S/22100) + IF(ROUNDUP(X/450)>4; 4; ROUNDUP(X/450))</td>
                        </tr>
                    </table>
                    
                    <strong>–ò—Ç–æ–≥–∏:</strong>
                    <table>
                        <tr>
                            <th>–í–∞—Ä–∏–∞–Ω—Ç</th>
                            <th>–ú/–ú (–≤—Å–µ–≥–æ)</th>
                            <th>–ú/–ú (–¥–ª—è –≠–ú)</th>
                        </tr>
                        <tr style="background: #e3f2fd;">
                            <td><strong>–¢—Ä–µ–±—É–µ—Ç—Å—è</strong></td>
                            <td><strong>${res.N_required}</strong></td>
                            <td>${res.N_ev_required}</td>
                        </tr>
                        <tr>
                            <td>–ú–∏–Ω–∏–º—É–º (—Ç–æ–ª–µ—Ä–∞–Ω—Å–∏—è -10%/-30%)</td>
                            <td>${res.N_min}</td>
                            <td>${res.N_ev_min}</td>
                        </tr>
                        <tr>
                            <td>–ú–∞–∫—Å–∏–º—É–º (—Ç–æ–ª–µ—Ä–∞–Ω—Å–∏—è +10%/+30%)</td>
                            <td>${res.N_max}</td>
                            <td>${res.N_ev_max}</td>
                        </tr>
                    </table>`;
                
                // –í—ã–≤–µ—Å—Ç–∏ —Ä–∞–∑–±–∏–≤–∫—É –ø–æ —Ç–∏–ø–∞–º –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–∞ "—Ç—Ä–µ–±—É–µ—Ç—Å—è"
                const breakdown = calc.results.breakdown_required;
                if (breakdown) {
                    html += `<strong>–†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º (—Ç—Ä–µ–±—É–µ—Ç—Å—è):</strong>
                    <table>
                        <tr>
                            <th>–¢–∏–ø –º–µ—Å—Ç–∞</th>
                            <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                        </tr>`;
                    
                    for (const [key, value] of Object.entries(breakdown)) {
                        if (key !== 'variant' && key !== 'total' && typeof value === 'object') {
                            html += `<tr>
                                <td>${value.name}</td>
                                <td><strong>${value.value}</strong></td>
                            </tr>`;
                        }
                    }
                    html += `<tr style="background: #f5f5f5;">
                        <td><strong>–ò–¢–û–ì–û</strong></td>
                        <td><strong>${breakdown.total}</strong></td>
                    </tr>
                    </table>`;
                }
                
                // === –ü–†–û–í–ï–†–ö–ê –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò ===
                html += `<strong>‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–∞—Å—á—ë—Ç–æ–≤:</strong>
                <table>
                    <tr>
                        <th>–ü—Ä–æ–≤–µ—Ä–∫–∞</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                    </tr>`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: N–ø + N–≥ + N–≤ + N–æ = N_total (–±–∞–∑–æ–≤–∞—è —Å—É–º–º–∞ –±–µ–∑ F)
                const manual_sum = res.Np + res.Ng + res.Nv + res.No_total;
                const check1 = manual_sum === res.N_total;
                html += `<tr style="background: ${check1 ? '#e8f5e9' : '#ffebee'};">
                    <td>N–ø + N–≥ + N–≤ + N–æ = N_–≤—Å–µ–≥–æ (${res.Np} + ${res.Ng} + ${res.Nv} + ${res.No_total})</td>
                    <td><strong>${check1 ? '‚úÖ OK' : '‚ùå –û–®–ò–ë–ö–ê'}</strong> (—Ä–∞—Å—Å—á—ë—Ç: ${manual_sum}, —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${res.N_total})</td>
                </tr>`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –†–∞–∑–±–∏–≤–∫–∞ –ü1+–ü2 = N–ø
                const manual_p = breakdown.–ü1.value + breakdown.–ü2.value;
                const check2 = manual_p === res.Np;
                html += `<tr style="background: ${check2 ? '#e8f5e9' : '#ffebee'};">
                    <td>–ü1 + –ü2 = N–ø (${breakdown.–ü1.value} + ${breakdown.–ü2.value})</td>
                    <td><strong>${check2 ? '‚úÖ OK' : '‚ùå –û–®–ò–ë–ö–ê'}</strong> (—Ä–∞—Å—Å—á—ë—Ç: ${manual_p}, —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${res.Np})</td>
                </tr>`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –†–∞–∑–±–∏–≤–∫–∞ –ì1+–ì2+–ì3 = N–≥
                const manual_g = breakdown.–ì1.value + breakdown.–ì2.value + breakdown.–ì3.value;
                const check3 = manual_g === res.Ng;
                html += `<tr style="background: ${check3 ? '#e8f5e9' : '#ffebee'};">
                    <td>–ì1 + –ì2 + –ì3 = N–≥ (${breakdown.–ì1.value} + ${breakdown.–ì2.value} + ${breakdown.–ì3.value})</td>
                    <td><strong>${check3 ? '‚úÖ OK' : '‚ùå –û–®–ò–ë–ö–ê'}</strong> (—Ä–∞—Å—Å—á—ë—Ç: ${manual_g}, —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${res.Ng})</td>
                </tr>`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –†–∞–∑–±–∏–≤–∫–∞ –í1+–í2+–í3 = N–≤
                const manual_v = breakdown.–í1.value + breakdown.–í2.value + breakdown.–í3.value;
                const check4 = manual_v === res.Nv;
                html += `<tr style="background: ${check4 ? '#e8f5e9' : '#ffebee'};">
                    <td>–í1 + –í2 + –í3 = N–≤ (${breakdown.–í1.value} + ${breakdown.–í2.value} + ${breakdown.–í3.value})</td>
                    <td><strong>${check4 ? '‚úÖ OK' : '‚ùå –û–®–ò–ë–ö–ê'}</strong> (—Ä–∞—Å—Å—á—ë—Ç: ${manual_v}, —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${res.Nv})</td>
                </tr>`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –ú–û –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 4 –º–µ—Å—Ç–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                const check5 = res.Nk_residential <= 4 && res.Nk_commercial <= 4;
                html += `<tr style="background: ${check5 ? '#e8f5e9' : '#ffebee'};">
                    <td>N–∫_–∂–∏–ª—å–µ ‚â§ 4 –ò N–∫_–∫–æ–º–º–µ—Ä—Ü–∏—è ‚â§ 4 (${res.Nk_residential} ‚â§ 4 –ò ${res.Nk_commercial} ‚â§ 4)</td>
                    <td><strong>${check5 ? '‚úÖ OK' : '‚ùå –û–®–ò–ë–ö–ê'}</strong></td>
                </tr>`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∂–∏–¥–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω—ã –≤ test.expected)
                if (test.expected) {
                    html += `<tr style="background: #fff3e0; border-top: 2px solid #ff9800;">
                        <td colspan="2"><strong>üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ Excel:</strong></td>
                    </tr>`;
                    
                    const expectedKeys = Object.keys(test.expected);
                    for (const key of expectedKeys) {
                        const expected = test.expected[key];
                        const actual = res[key];
                        const match = expected === actual;
                        html += `<tr style="background: ${match ? '#e8f5e9' : '#ffebee'};">
                            <td>${key}</td>
                            <td><strong>${match ? '‚úÖ ' : '‚ùå '}</strong> –û–∂–∏–¥–∞–µ—Ç—Å—è: ${expected}, –ü–æ–ª—É—á–µ–Ω–æ: ${actual}</td>
                        </tr>`;
                    }
                }
                
                html += `</table>`;
                

                outputDiv.innerHTML += html;
                
                console.log("‚úÖ N–ø:", res.Np, "N–≥:", res.Ng, "N–≤:", res.Nv, "No:", res.No_total);
                console.log("‚úÖ N_—Ç—Ä–µ–±—É–µ—Ç—Å—è:", res.N_required, "Min:", res.N_min, "Max:", res.N_max);
                
            } catch (error) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ –≤ —Ç–µ—Å—Ç–µ "${test.name}":`, error);
                outputDiv.innerHTML += `<div class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }
        
        console.log("\n‚úÖ === –í–°–ï –¢–ï–°–¢–´ –ó–ê–í–ï–†–®–ï–ù–´ ===");
    }
    
    // –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('load', runTests);
</script>

</body>
</html>
